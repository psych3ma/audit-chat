#!/usr/bin/env bash
# Cursor가 자동으로 넣는 Co-authored-by 트레일러 제거 (공동협업 표시 제거)
# 사용: cp scripts/git-hooks/commit-msg .git/hooks/commit-msg && chmod +x .git/hooks/commit-msg

msg_file="$1"
[ ! -f "$msg_file" ] && exit 0

# Co-authored-by: ... Cursor ... 줄 삭제 (대소문자 무관)
if sed --version 2>/dev/null | grep -q GNU; then
  sed -i '/^Co-authored-by:.*[Cc]ursor/d' "$msg_file"
else
  sed -i '' '/^Co-authored-by:.*[Cc]ursor/d' "$msg_file"
fi

exit 0
