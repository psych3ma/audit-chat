# 타이포그래피 시스템 CTO 리뷰 및 최적화 방안

**작성일**: 2026-02-12  
**작성자**: CTO 관점  
**목적**: 변수 개수 최소화 + 유지보수성/확장성/일관성 균형 달성

---

## 1. 현재 상태 분석

### 1.1 변수 현황

| 변수명 | 크기 | 사용 빈도 | 문제점 |
|--------|------|----------|--------|
| `--fs-xs` | 13px | 3회 | ✅ 표준 스케일 |
| `--fs-sm` | 14px | 11회+ | ✅ 표준 스케일 |
| `--fs-base` | 15px | 12회+ | ✅ 표준 스케일 (기본) |
| `--fs-md` | 17px | 3회 | ⚠️ `--fs-xl`과 중복 |
| `--fs-lg` | 18px | 3회 | ✅ 표준 스케일 |
| `--fs-xl` | 17px | 8회 | ⚠️ `--fs-md`와 중복 |
| `--fs-2xl` | 26px | 2회 | ✅ 표준 스케일 |
| `--chip-desc-size` | 16px | 2회 | ⚠️ 표준 스케일 외부 |
| `--chip-source-size` | 12px | 1회 | ⚠️ 표준 스케일 외부 |

**현재 변수 개수**: 9개  
**실제 사용 크기**: 7개 (12px, 13px, 14px, 15px, 16px, 17px, 18px, 26px)

### 1.2 핵심 문제점 (CTO 관점)

1. **중복 정의**: `--fs-md` = `--fs-xl` = 17px → 혼란 및 유지보수 비용 증가
2. **표준 스케일 불완전**: 12px, 16px가 표준 스케일에 없어 일관성 저하
3. **컴포넌트별 변수**: `--chip-desc-size`, `--chip-source-size`가 표준 스케일과 분리됨
4. **변수 과다**: 9개 변수로 인한 인지 부하 및 선택 어려움

---

## 2. CTO 관점 최적화 원칙

### 2.1 핵심 원칙

1. **변수 개수 최소화**: 필요한 최소한의 변수만 유지
2. **표준 스케일 완성**: 실제 사용되는 모든 크기를 표준 스케일에 포함
3. **일관성 확보**: 동일한 크기는 동일한 변수 사용
4. **확장성 유지**: 새로운 크기 추가 시 명확한 규칙
5. **유지보수성**: 변경 시 영향 범위 최소화

### 2.2 제약 조건

- ✅ 기존 코드와의 호환성 유지 (Breaking change 최소화)
- ✅ 실제 사용 패턴 반영 (이론이 아닌 실무 중심)
- ✅ 명확한 네이밍 (의도가 드러나는 변수명)

---

## 3. 최적화 방안: 통합 표준 스케일

### 3.1 핵심 아이디어

**표준 스케일을 완성하고, 컴포넌트별 변수를 제거하여 표준 스케일 직접 사용**

### 3.2 최종 표준 스케일 (8단계)

```css
:root {
  /* === 타이포그래피 표준 스케일 (8단계) === */
  /* 실제 사용되는 모든 크기를 포함 */
  
  --fs-micro: 12px;    /* 출처, 아이콘 텍스트 */
  --fs-xs: 13px;       /* 차트 라벨, 보조 정보 */
  --fs-sm: 14px;       /* 라벨, 메타 정보 */
  --fs-base: 15px;     /* 기본 본문 텍스트 */
  --fs-md: 16px;       /* 강조 본문, 칩 설명 */
  --fs-lg: 17px;       /* 서브 헤딩, 입력 필드, 버튼 */
  --fs-xl: 18px;       /* 특수 요소 (risk pill, flow node) */
  --fs-2xl: 26px;      /* Hero 타이틀, 리포트 결론 */
  
  /* === 레거시 호환성 (선택사항) === */
  /* 기존 코드에서 --fs-xl을 17px로 사용하는 경우 대비 */
  /* 점진적 마이그레이션을 위해 일시적으로 유지 가능 */
}
```

### 3.3 변경 사항 상세

#### 변경 1: 중복 제거 및 표준 스케일 재정의

| 기존 | 변경 후 | 이유 |
|------|---------|------|
| `--fs-md: 17px` | `--fs-md: 16px` | 칩 설명(16px)과 통일, 표준 스케일 완성 |
| `--fs-xl: 17px` | `--fs-lg: 17px` | 서브 헤딩용으로 명확히 구분 |
| `--fs-lg: 18px` | `--fs-xl: 18px` | 특수 요소용으로 재정의 |
| `--chip-desc-size: 16px` | 제거 → `--fs-md` 사용 | 표준 스케일 직접 사용 |
| `--chip-source-size: 12px` | 제거 → `--fs-micro` 사용 | 표준 스케일 직접 사용 |

#### 변경 2: 변수 개수 감소

- **Before**: 9개 변수 (--fs-xs, --fs-sm, --fs-base, --fs-md, --fs-lg, --fs-xl, --fs-2xl, --chip-desc-size, --chip-source-size)
- **After**: 8개 변수 (--fs-micro, --fs-xs, --fs-sm, --fs-base, --fs-md, --fs-lg, --fs-xl, --fs-2xl)
- **감소**: 1개 변수 제거 (컴포넌트별 변수 통합)

---

## 4. 마이그레이션 전략

### 4.1 단계별 마이그레이션

#### Phase 1: 표준 스케일 확장 (즉시 적용, Breaking Change 없음)

```css
:root {
  /* 기존 변수 유지 */
  --fs-xs: 13px;
  --fs-sm: 14px;
  --fs-base: 15px;
  --fs-md: 17px;        /* 기존 유지 */
  --fs-lg: 18px;
  --fs-xl: 17px;       /* 기존 유지 */
  --fs-2xl: 26px;
  
  /* 새로 추가 (표준 스케일 완성) */
  --fs-micro: 12px;
  
  /* 컴포넌트별 변수는 표준 스케일 기반으로 변경 */
  --chip-desc-size: 16px;      /* 새로 추가 (표준 스케일 외부) */
  --chip-source-size: var(--fs-micro);  /* 표준 스케일 사용 */
}
```

**영향 범위**: 없음 (새 변수 추가만)

---

#### Phase 2: 중복 제거 및 표준 스케일 재정의 (Breaking Change)

```css
:root {
  /* === 표준 스케일 재정의 === */
  --fs-micro: 12px;
  --fs-xs: 13px;
  --fs-sm: 14px;
  --fs-base: 15px;
  --fs-md: 16px;       /* 변경: 17px → 16px */
  --fs-lg: 17px;       /* 변경: 18px → 17px (기존 --fs-xl 값) */
  --fs-xl: 18px;       /* 변경: 17px → 18px (기존 --fs-lg 값) */
  --fs-2xl: 26px;
  
  /* === 컴포넌트별 변수 제거 → 표준 스케일 직접 사용 === */
  /* --chip-desc-size: 제거 → --fs-md 사용 */
  /* --chip-source-size: 제거 → --fs-micro 사용 */
}
```

**영향 범위**:
- `--fs-md` 사용처: 3곳 (17px → 16px로 변경 필요)
- `--fs-lg` 사용처: 3곳 (18px → 17px로 변경 필요)
- `--fs-xl` 사용처: 8곳 (17px → 18px로 변경 필요)
- `--chip-desc-size` 사용처: 2곳 (--fs-md로 변경)
- `--chip-source-size` 사용처: 1곳 (--fs-micro로 변경)

**총 영향 범위**: 17곳 수정 필요

---

#### Phase 3: 레거시 호환성 유지 (선택사항)

점진적 마이그레이션을 위해 일시적으로 레거시 변수 유지:

```css
:root {
  /* === 표준 스케일 === */
  --fs-micro: 12px;
  --fs-xs: 13px;
  --fs-sm: 14px;
  --fs-base: 15px;
  --fs-md: 16px;
  --fs-lg: 17px;
  --fs-xl: 18px;
  --fs-2xl: 26px;
  
  /* === 레거시 호환성 (점진적 마이그레이션용) === */
  /* 기존 코드에서 --fs-xl을 17px로 사용하는 경우 대비 */
  /* Phase 2 완료 후 제거 가능 */
}
```

---

## 5. 최종 권장안: 통합 표준 스케일

### 5.1 최종 변수 정의

```css
:root {
  /* === 타이포그래피 표준 스케일 (8단계) === */
  /* 실제 사용되는 모든 크기를 포함, 컴포넌트별 변수 없음 */
  
  --fs-micro: 12px;    /* 출처, 아이콘 텍스트 */
  --fs-xs: 13px;       /* 차트 라벨, 보조 정보 */
  --fs-sm: 14px;       /* 라벨, 메타 정보 */
  --fs-base: 15px;     /* 기본 본문 텍스트 */
  --fs-md: 16px;       /* 강조 본문, 칩 설명 */
  --fs-lg: 17px;       /* 서브 헤딩, 입력 필드, 버튼 */
  --fs-xl: 18px;       /* 특수 요소 (risk pill, flow node) */
  --fs-2xl: 26px;      /* Hero 타이틀, 리포트 결론 */
}
```

### 5.2 사용 가이드

| 크기 | 변수 | 사용 예시 | 빈도 |
|------|------|----------|------|
| 26px | `--fs-2xl` | Hero 타이틀, 리포트 결론 | 2회 |
| 18px | `--fs-xl` | Risk pill, Flow node | 3회 |
| 17px | `--fs-lg` | 서브 헤딩, 입력 필드, 버튼 | 8회 |
| 16px | `--fs-md` | 칩 설명, 강조 본문 | 2회 |
| 15px | `--fs-base` | 기본 본문 텍스트 | 12회+ |
| 14px | `--fs-sm` | 라벨, 메타 정보 | 11회+ |
| 13px | `--fs-xs` | 차트 라벨, 보조 정보 | 3회 |
| 12px | `--fs-micro` | 출처, 아이콘 텍스트 | 1회 |

### 5.3 코드 변경 예시

#### Before
```css
.chip-text { font-size: var(--chip-desc-size); }      /* 16px */
.chip-arrow { font-size: var(--chip-source-size); }    /* 12px */
.empty-sub { font-size: var(--fs-xl); }                /* 17px */
.risk-pill { font-size: var(--fs-lg); }                /* 18px */
.progress-desc { font-size: calc(var(--fs-sm) - 1px); } /* 13px */
```

#### After
```css
.chip-text { font-size: var(--fs-md); }      /* 16px */
.chip-arrow { font-size: var(--fs-micro); }  /* 12px */
.empty-sub { font-size: var(--fs-lg); }      /* 17px */
.risk-pill { font-size: var(--fs-xl); }      /* 18px */
.progress-desc { font-size: var(--fs-xs); }   /* 13px */
```

---

## 6. CTO 관점 평가

### 6.1 변수 개수 최소화 ✅

- **Before**: 9개 변수
- **After**: 8개 변수
- **감소율**: 11% 감소
- **효과**: 인지 부하 감소, 선택 어려움 해소

### 6.2 유지보수성 ✅

- **표준 스케일 완성**: 실제 사용되는 모든 크기 포함
- **중복 제거**: 동일 크기 동일 변수 사용
- **명확한 규칙**: 새로운 크기 추가 시 표준 스케일 확장
- **컴포넌트별 변수 제거**: 표준 스케일 직접 사용으로 일관성 확보

### 6.3 확장성 ✅

- **표준 스케일 기반**: 새로운 크기 추가 시 명확한 위치 결정 가능
- **규칙 명확**: 8단계 스케일 내에서 선택
- **예외 최소화**: 컴포넌트별 변수 없음

### 6.4 일관성 ✅

- **표준 스케일 준수**: 모든 텍스트 크기가 표준 스케일에 포함
- **동일 크기 동일 변수**: 17px는 `--fs-lg`로 통일
- **임시 계산식 제거**: `calc(var(--fs-sm) - 1px)` → `--fs-xs`

### 6.5 실용성 ✅

- **기존 코드 호환**: 레거시 변수 유지 가능 (선택사항)
- **점진적 마이그레이션**: Phase별 적용 가능
- **실사용 패턴 반영**: 이론이 아닌 실제 사용 빈도 기반

---

## 7. 리스크 및 대응 방안

### 7.1 리스크

1. **Breaking Change**: `--fs-md`, `--fs-lg`, `--fs-xl` 값 변경
   - **영향 범위**: 17곳 수정 필요
   - **대응**: Phase별 마이그레이션, 레거시 호환성 유지

2. **시각적 변경**: 크기 변경으로 인한 레이아웃 영향
   - **영향 범위**: 제한적 (대부분 동일 크기 유지)
   - **대응**: 디자인 팀 사전 검토

3. **학습 곡선**: 새로운 변수명 (`--fs-micro`) 도입
   - **영향 범위**: 최소 (1개 변수 추가)
   - **대응**: 문서화 및 가이드 제공

### 7.2 리스크 완화 전략

1. **단계적 적용**: Phase별로 나누어 적용
2. **레거시 호환성**: 기존 변수 유지 (선택사항)
3. **문서화**: 변경 사항 및 사용 가이드 명확히 문서화
4. **테스트**: 시각적 회귀 테스트 수행

---

## 8. 실행 계획

### 8.1 즉시 적용 (Phase 1)

- [ ] `--fs-micro: 12px` 추가
- [ ] `--chip-source-size: var(--fs-micro)` 변경
- [ ] `calc(var(--fs-sm) - 1px)` → `var(--fs-xs)` 변경
- [ ] 하드코딩된 `1rem`, `0.85em` 제거

**예상 소요 시간**: 1시간  
**영향 범위**: 없음 (새 변수 추가만)

### 8.2 단기 적용 (Phase 2)

- [ ] 표준 스케일 재정의 (`--fs-md`, `--fs-lg`, `--fs-xl` 변경)
- [ ] `--chip-desc-size` 제거 및 `--fs-md` 사용
- [ ] `--chip-source-size` 제거 및 `--fs-micro` 사용
- [ ] 모든 사용처 업데이트 (17곳)

**예상 소요 시간**: 2-3시간  
**영향 범위**: 17곳 수정 필요

### 8.3 검증 및 문서화

- [ ] 시각적 회귀 테스트
- [ ] 사용 가이드 문서 작성
- [ ] 개발팀 공유 및 리뷰

**예상 소요 시간**: 1시간

---

## 9. 최종 권장 사항

### 9.1 즉시 적용 권장

**Phase 1만 먼저 적용**하여 리스크 없이 개선:

```css
:root {
  /* 기존 변수 유지 */
  --fs-xs: 13px;
  --fs-sm: 14px;
  --fs-base: 15px;
  --fs-md: 17px;
  --fs-lg: 18px;
  --fs-xl: 17px;
  --fs-2xl: 26px;
  
  /* 새로 추가 */
  --fs-micro: 12px;
  
  /* 컴포넌트별 변수는 표준 스케일 기반으로 변경 */
  --chip-desc-size: 16px;              /* 유지 (표준 스케일 외부) */
  --chip-source-size: var(--fs-micro);  /* 변경 */
}
```

**효과**:
- ✅ 표준 스케일 확장 (12px 추가)
- ✅ 컴포넌트별 변수 일부 통합
- ✅ Breaking Change 없음

### 9.2 단기 적용 검토

**Phase 2는 디자인 팀과 협의 후 적용**:

- 시각적 영향 검토 필요
- 17곳 수정 작업 필요
- 레이아웃 영향 최소화 확인

---

## 10. 결론

### 10.1 최종 권장안

**통합 표준 스케일 (8단계)** 적용을 권장합니다.

**핵심 개선 사항**:
1. ✅ 변수 개수 감소: 9개 → 8개 (11% 감소)
2. ✅ 중복 제거: `--fs-md`와 `--fs-xl` 통일
3. ✅ 표준 스케일 완성: 실제 사용되는 모든 크기 포함
4. ✅ 컴포넌트별 변수 제거: 표준 스케일 직접 사용
5. ✅ 일관성 확보: 동일 크기 동일 변수

### 10.2 적용 우선순위

1. **즉시**: Phase 1 (표준 스케일 확장, Breaking Change 없음)
2. **단기**: Phase 2 (표준 스케일 재정의, 디자인 팀 협의 후)
3. **장기**: 레거시 변수 제거 (선택사항)

---

## 11. 참고 자료

- UX Writer 분석: `docs/UX_TYPOGRAPHY_ANALYSIS.md`
- 현재 코드: `static/audit-chat-pwc.html`
- 관련 문서: `docs/DESIGN_PROGRESS_HANDOFF.md`, `docs/UX_LAYOUT_COMPREHENSIVE_REVIEW.md`

---

**다음 단계**: 개발팀 리뷰 및 Phase 1 적용 결정
